Это полностью рабочий пример для создания кластеров Zookeeper и Kafka.
Так же настроен prometheus на сбор метрик с Kafka.
Всё запускается в контейнере командой docker-compose up -d
Код rust запускается в терминале cargo run --quiet

Grafana качаем с https://grafana.com/grafana/download?pg=get&plcmt=selfmanaged-box1-cta1